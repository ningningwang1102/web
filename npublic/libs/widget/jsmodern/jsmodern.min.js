"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,n){"function"==typeof define&&define.amd?define(["jquery"],n):"undefined"!=typeof module&&"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=n(require("jquery")):e.jsModern=n(e.jQuery)}("undefined"!=typeof window?window:void 0,function(R){function c(e,n,t){var o=t.type;t.type=n,R.event.dispatch.call(e,t),t.type=o}if("undefined"==typeof jQuery)throw Error("jsModern's JavaScript requires jQuery");var e=R.fn.jquery.split("."),s=~~e[0],r=~~e[1];if(1==s&&r<9)throw Error("jsModern's JavaScript requires at least jQuery v1.9.0");if(!Array.isArray||!document.addEventListener||!1 in document.documentElement.style)throw Error("jsModern's JavaScript does not support of IE8-");var n=window.jsModern,v=navigator.userAgent.toLowerCase(),l={},o={};R("head");var t=R("html"),i=!!v.match("trident");R.event.special.tap={setup:function(){var n=this,t=!1,o=0;R(n).on("touchstart",function(e){o=Date.now()}).on("touchmove",function(e){t=!0}).on("touchend",function(e){!t&&R.now()-o<300&&(c(n,"tap",e),o=0)})}},R.event.special.tapHold={setup:function(){var n,t,o,i,a,s=this,r=!1;R(s).on("touchstart",function(e){n=e.originalEvent.targetTouches[0].pageX,t=e.originalEvent.targetTouches[0].pageY,e.originalEvent.preventDefault(),a=setTimeout(function(){o=e.originalEvent.targetTouches[0].pageX,i=e.originalEvent.targetTouches[0].pageY,o!==n||i!==t||r||c(s,"tapHold",e)},750)}).on("touchmove",function(e){r=!0}).on("touchend",function(e){clearTimeout(a),e.originalEvent.preventDefault()})}},R.event.special.swipe={setup:function(){var t=this,o=0,i=0;R(t).on("touchstart",function(e){o=e.originalEvent.targetTouches[0].pageX,i=e.originalEvent.targetTouches[0].pageY}).on("touchmove",function(e){var n=e.originalEvent.changedTouches[0].pageY;0==e.originalEvent.changedTouches[0].pageX-o&&0==n-i||(e.originalEvent.preventDefault(),c(t,"swipe",e))})}},R.event.special.swipeLeft={setup:function(){var n=this,t=0;R(n).on("touchstart",function(e){t=e.originalEvent.targetTouches[0].pageX}).on("touchmove",function(e){e.originalEvent.preventDefault()}).on("touchend",function(e){e.originalEvent.changedTouches[0].pageX-t<-30&&c(n,"swipeLeft",e)})}},R.event.special.swipeRight={setup:function(){var n=this,t=0;R(n).on("touchstart",function(e){t=e.originalEvent.targetTouches[0].pageX}).on("touchmove",function(e){e.originalEvent.preventDefault()}).on("touchend",function(e){30<e.originalEvent.changedTouches[0].pageX-t&&c(n,"swipeRight",e)})}},R.event.special.swipeUp={setup:function(){var n=this,t=0;R(n).on("touchstart",function(e){t=e.originalEvent.targetTouches[0].pageY}).on("touchmove",function(e){e.originalEvent.preventDefault()}).on("touchend",function(e){e.originalEvent.changedTouches[0].pageY-t<-30&&c(n,"swipeUp",e)})}},R.event.special.swipeDown={setup:function(){var n=this,t=0;R(n).on("touchstart",function(e){t=e.originalEvent.targetTouches[0].pageY}).on("touchmove",function(e){e.originalEvent.preventDefault()}).on("touchend",function(e){30<e.originalEvent.changedTouches[0].pageY-t&&c(n,"swipeDown",e)})}},R.event.special.wheelUp={setup:function(){var t=this;R(t).on("mousewheel DOMMouseScroll",function(e){var n=(e=e||window.e).originalEvent.wheelDelta||e.originalEvent.detail;-300!==n&&-120!==n&&3!==n&&c(t,"wheelUp",e)})}},R.event.special.wheelDown={setup:function(){var t=this;R(t).on("mousewheel DOMMouseScroll",function(e){var n=(e=e||window.e).originalEvent.wheelDelta||e.originalEvent.detail;-300!==n&&-120!==n&&3!==n||c(t,"wheelDown",e)})}},R.each("tap tapHold swipe swipeLeft swipeRight swipeRight swipeUp swipeDown wheelUp wheelDown".split(" "),function(e,n){R.fn[n]=function(e){return this.on(n,e)}}),R.each(["animationBegin","animationPause","animationEnd","removeAnimation"],function(e,a){R.fn[a]=function(i){return this.each(function(){function e(e){o.on("animationend webkitAnimationEnd",function(){o.css("animationPlayState","").removeData("jsmodernAnimationRunning jsmodernAnimationPaused"),e&&e.apply(n),o.off("animationend webkitAnimationEnd")})}var t,o=R(this),n=o[0];switch(a){case"animationBegin":i&&l[i]&&(o.data("jsmodernAnimationRunning")||o.data("jsmodernAnimationPaused")||((t=o.prop("class"))&&R.each(l,function(e,n){-1<t.indexOf(n)&&o.removeClass(n)}),setTimeout(function(){o.addClass(l[i]).css("animationPlayState","running")},13)),o.data("jsmodernAnimationPaused")&&o.css("animationPlayState","running"),o.data({jsmodernAnimationRunning:!0,jsmodernAnimationName:l[i]}),e());break;case"animationPause":o.data("jsmodernAnimationRunning")&&o.css("animationPlayState","paused").data("jsmodernAnimationPaused",!0).removeData("jsmodernAnimationRunning");break;case"animationEnd":e(i);break;case"removeAnimation":o.removeClass(o.data("jsmodernAnimationName")).removeData("jsmodernAnimationName")}})}}),R.fn.extend({orientation:function(n){return this[0]===window&&R(window).on("orientationchange",function(){var e=window.orientation;0!=e&&180!=e||n.v()||R.noop,90!=e&&-90!=e||n.h()||R.noop}),this}}),R.easing.easeInOutQuart=function(e,n,t,o,i){return(n/=i/2)<1?o/2*n*n*n*n+t:-o/2*((n-=2)*n*n*n-2)+t};var a,O={isMobile:function(){return!!(v.match(/(ios|iphone|ipod|ipad|mobile|android|symbianos|ucweb|mqqbrowser|iemobile|webos|windows phone|windows mobile|opera mini|opera mobl|nexus|series|nokia|blackberry|meego|playbook|fennec|tablet)/)&&"ontouchend"in document)},isIOS:function(e){var n=!(!O.isMobile()||!v.match(/(ios|iphone|ipod|ipad)/));return 0==arguments.length?n:"boolean"===R.type(e)&&e?n&&v.match(/os(.*)like mac os x/)[1].replace(/(_)/g,".").trim():void 0},isAndroid:function(e){var n=!(!O.isMobile()||O.isIOS()||v.match(/(windows|blackberry|symbianos|bb|meego|playbook|fennec|iemobile)/));if(0==arguments.length)return n;if("boolean"===R.type(e)&&e){var t=v.indexOf("android"),e=(t=v.substring(t+7)).indexOf(";");return n&&t.substring(0,e).trim()}},time:function(e,n){if(0==arguments.length)return R.now();n=n||"-";var t,o={yy:(e=new Date(e)).getFullYear(),mm:e.getMonth()+1,dd:e.getDate(),h:e.getHours(),m:e.getMinutes(),s:e.getSeconds()};for(t in o){var i=o[t];o[t]=i<10?"0"+i:i}return o.yy+n+o.mm+n+o.dd+" "+o.h+":"+o.m+":"+o.s},random:function(e,n){function t(e,n){return Math.floor(Math.random()*(n-e+1)+e)}var o="",i=R.type(e),a=R.type(n);if("number"===i&&"number"===a&&(o=t(e,n),o=Number(o)),"number"===i&&"boolean"===a&&n)for(;o.length<e;)o+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[t(0,61)];if("number"===i&&"boolean"===a&&!n)for(;o.length<e;)o+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[t(0,51)];if(void 0===n&&"number"===i&&Math.floor(e)===e&&0<e){for(;o.length<e;)o+="0123456789"[t(0,9)];o=Number(o)}return 0===arguments.length&&(o=Math.random()),o},uuid:function(){for(var e="",n=[],t=0;t<14;t++)e+="abcdef"[O.random(0,5)];for(e=(Math.random().toFixed(16).replace("0.",O.random(10,99))+e).split(""),t=0;t<36;t++){var o=O.random(0,31);n[t]=e[o],e.slice(o,1)}return n[8]=n[13]=n[18]=n[23]="-",n.join("")},unique:function(e){if(Array.isArray(e)){if(Array.from)e=Array.from(new Set(e));else{for(var n={},t=[],o=0,i=e.length;o<i;o++){var a=e[o],s=R.type(a);n[a+s]||(t.push(a),n[a+s]=!0)}e=t}return e}},session:function(e,n){return e&&n?(sessionStorage.setItem(e,n),this):R.isPlainObject(e)&&!n?(R.each(e,function(e,n){sessionStorage.setItem(e,n)}),this):"string"!==R.type(e)||n?void 0:sessionStorage.getItem(e)},removeSession:function(e){return e?e.replace(/\s+/g," ").trim().split(" ").forEach(function(e){sessionStorage.removeItem(e)}):sessionStorage.clear(),this},sessionKeys:function(){for(var e=[],n=0,t=sessionStorage.length;n<t;n++)e.push(sessionStorage.key(n));return 0<e.length?e:null},sessionValues:function(){for(var e=[],n=0,t=sessionStorage.length;n<t;n++){var o=sessionStorage.key(n);e.push(sessionStorage.getItem(o))}return 0<e.length?e:null},local:function(e,n){return e&&n?(localStorage.setItem(e,n),this):R.isPlainObject(e)&&!n?(R.each(e,function(e,n){localStorage.setItem(e,n)}),this):"string"!==R.type(e)||n?void 0:localStorage.getItem(e)},removeLocal:function(e){return e?e.replace(/\s+/g," ").trim().split(" ").forEach(function(e){localStorage.removeItem(e)}):localStorage.clear(),this},localKeys:function(){for(var e=[],n=0,t=localStorage.length;n<t;n++)e.push(localStorage.key(n));return 0<e.length?e:null},localValues:function(){for(var e=[],n=0,t=localStorage.length;n<t;n++){var o=localStorage.key(n);e.push(localStorage.getItem(o))}return 0<e.length?e:null},cookie:function(t,e,n){var o=arguments.length;if(1!=o||"string"!==R.type(t))return 2<=o?(document.cookie=t+"="+e+(3==o?";expires="+n:""),this):1==o&&R.isPlainObject(t)?(R.each(t,function(e,n){document.cookie=e+"="+n}),this):void 0;var i=document.cookie.replace(/[=]/g,"; ").split("; "),a="";return R.each(i,function(e,n){n===t&&(a=i[e+1])}),""!==a?a:null},removeCookie:function(e){return e?e.replace(/\s+/g," ").trim().split(" ").forEach(function(e){document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT;"}):(e=document.cookie.replace(/[=]/g,"; ").split("; "))&&e.forEach(function(e){document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT;"}),this},ua:function(){return v},screen:(a=function(){return[screen.width,screen.height]},d.toString=function(){return a.toString()},d),filterChar:function(n,e){if("string"===R.type(n)&&Array.isArray(e)){var t="~`!@#$%^&*()-_+=|\\[]{};:\"'<>,./?".split("");return e.forEach(function(e){n=n.replace(-1<t.indexOf(e)?new RegExp("\\"+e,"g"):new RegExp(e,"g"),"")}),n}},noConflict:function(){return window.jsModern=n,O},toBase64:function(r,c){var l=[],d=R.type(r);return Array.isArray(r)||(r=[r]),function i(a){var s=new Image;s.src=a,s.onload=function(){var e=this.width,n=this.height,t=a.substring(a.lastIndexOf(".")+1).toLowerCase(),o=document.createElement("canvas");o.width=e,o.height=n,o.getContext("2d").drawImage(s,0,0,e,n),e=o.toDataURL("image/"+("png"===t?"png":"jpeg"),1),l.push(e),r.splice(0,1),0<r.length?i(r[0]):R.isFunction(c)&&c("string"===d?l[0]:l)}}(r[0]),this},animation:function(e,n,t){if(e&&n&&!v.match("msie 9.0")){var o,i,a="";for(i in n)a+=i+JSON.stringify(n[i]);return o="@-webkit-keyframes "+e+"{"+(a=(a=(a=(a=a.replace(/(rgba|rgb)/gi,function(e,n){return n.toLowerCase()})).replace(/\"\,/g,";").replace(/\"/g,"").replace(/([A-Z])/g,"-$1").toLowerCase()).replace(/-(x|y|z)/g,function(e,n){return n.toUpperCase()})).replace(/(#[^;]+;)/g,function(e,n){return n.replace(/-/g,"")}))+"}@keyframes "+e+"{"+a+"}",t=t||"1s forwards",o='<style data-type="jsmodern-create-animation" id="'+(n=".jsmodern-animation-"+O.uuid()).substring(1)+'">'+n+"{animation:"+e+" "+t+";-webkit-animation:"+e+" "+t+"}"+o+"</style>",R("head").append(o),l[e]=n.substring(1),this}},removeAnimation:function(e){return e?R.trim(e).replace(/\s+/g," ").split(" ").forEach(function(e){var n=l[e];n&&(R("#"+n).remove(),delete l[e])}):(R("style[data-type='jsmodern-create-animation']").remove(),l={}),this},tmpl:function(e,t){function a(n,e,t){var o,i=new Function("data","html","var result = [];with ( data ) { result.push('"+n.replace(/{{(.*?)}}/g,"',$1,'")+"');}return result.join('');");return t?(o="",e.forEach(function(e){o+=i(e,n)}),o):i(e,n)}var n,s;return 2==arguments.length&&R.isPlainObject(t)&&(n=R("body"),s=O.random(10,!1).toLowerCase(),o[s]=t.event,R(e).each(function(){var o=t.data,e=R(this).attr("jm-data");e&&(o=o[e.trim()]);var n=t.template.replace(/[\n\r\t]/g,"").replace(/>(\s+)</g,"><").trim().replace(/(\{\{)\s+/g,"{{").replace(/\s+(\}\})/g,"}}");R("body").append('<section id="jsmodern-tmpl-sandbox" style="display:none !important;"></section>'),(e=R("#jsmodern-tmpl-sandbox")).html(n);var i;e.find("[jm-for]").each(function(){var e=R(this)[0].outerHTML,n=(t=R(this).attr("jm-for").replace(/\s+/g," ").trim().split(" in "))[0],t=o[t[1]];e.indexOf(n+".")<0&&!R.isPlainObject(t)&&(t=t.map(function(e){return{$:e}}),e=e.replace(new RegExp(n,"g"),n+".$")),e=e.replace(new RegExp(n+".","g"),""),i=a(e,t,"for").replace(/ jm\-for=\"(.*?)\"/g,""),R(this).replaceWith(i)}),e.html(a(e.html(),o)),e.find("[jm-event]").attr("data-event",s),(n=t.css)&&(e.find("*").each(function(){R(this).attr(s,"")}),n=n.replace(/[\n\t\r]/g,"").trim().replace(/\}(\s+)/g,"}").replace(/(\s+)\{/g,"{").replace(/\{/g,"["+s+"]{"),R("head").append('<style class="jsmodern-tmpl-style">'+n+"</style>")),n=e.html().replace(/jm\-for=\"(.*?)\"/g,""),R(this)[t.place||"append"](n),e.remove()}),n.find("[jm-event]").each(function(){var e=R(this).attr("data-event"),n=R(this).attr("jm-event");if(e=o[e])for(var t in e)n===t&&e[t].call(this);R(this).removeAttr("jm-event data-event")})),this},fullScreenIn:function(e){return(e=e||document.documentElement).webkitRequestFullScreen?e.webkitRequestFullScreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen?e.msRequestFullscreen():e.requestFullScreen&&e.requestFullScreen(),i&&t.data("fullScreenIn",!0),this},fullScreenOut:function(e){return(e=e||document).webkitExitFullscreen?e.webkitExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.msExitFullscreen?e.msExitFullscreen():e.exitFullscreen&&e.exitFullscreen(),i&&t.removeData("fullScreenIn"),this},fullScreenToggle:function(e){return i?O[t.data("fullScreenIn")?"fullScreenOut":"fullScreenIn"](e):O[document.fullScreen||document.webkitIsFullScreen||document.mozFullScreen||document.msFullScreen?"fullScreenOut":"fullScreenIn"](e),this},top:function(e,n){var t,o;R.isPlainObject(n)&&(t=n.time,o=n.distance),R.isNumeric(n)&&0<n&&(t=parseInt(n));var i,a=R(e).first();return a.is(":hidden")&&(i=!!(1==s&&r<11),R(window).on("scroll",function(){var e=R(window).scrollTop();(o||300)<e&&(i?a.show():a.stop().fadeIn(100)),0===e&&(i?a.hide():a.stop().fadeOut(100))})),a.click(function(){R("html, body").stop().animate({scrollTop:0},t||300)}),this},textBind:function(e,t){function n(n){R(t).each(function(){var e=R(this);"input"===e[0].nodeName.toLowerCase()?e.val(n):e.html(n)})}return R(e).each(function(){var e=R(this);e.on("input",function(){n(e.val())}),v.match("msie 9.0")&&setInterval(function(){n(e.val())},13)}),this},marquee:function(e){return R(e).each(function(){var e,n,t,o=R(this),i=o.children(),a=0;i.each(function(){a+=R(this).outerWidth(!0)}),a>o.width()&&(o.css("overflow","hidden"),O.isMobile()&&o.addClass("jsmodern-select-none"),i.wrapAll('<section class="jsmodern-marquee-inner"><section class="jsmodern-marquee-default"></section></section>').parent().width(a),i=o.find(".jsmodern-marquee-inner"),(e=o.find(".jsmodern-marquee-default")).after(e.clone(!0)).next().attr("class","jsmodern-marquee-repeat"),i.width(2*a),n=function(){o.scrollLeft(o.scrollLeft()>e.width()?0:o.scrollLeft()+1)},t=setInterval(n,1e3/60),o.on("mouseenter touchstart",function(){clearInterval(t)}).on("mouseleave touchend",function(){t=setInterval(n,1e3/60)}))}),this},share:function(m){var f=encodeURIComponent(location.href),p=document.title,h=null;return R(document).on("click",function(e){e=e||window.event,e=R(e.target);var n,t,o,i,a,s,r,c,l,d=v.match("firefox");function u(){window.open(["http://v.t.sina.com.cn/share/share.php?",i].join(""),"mb")||(o.href=["http://v.t.sina.com.cn/share/share.php?",i].join(""))}e.is(m.qrcode)&&(h?R("body").append(h):(R("body").append('<section class="jsmodern-share jsmodern-select-none" id="jsmodern-share"><b></b><p>'+decodeURI("%E6%89%AB%E4%B8%80%E6%89%AB%E5%88%86%E4%BA%AB")+"</p><section></section></section>"),n=R("#jsmodern-share").find("section"),t="jquery-qrcode-"+O.random(15,!1),(s=document.createElement("script")).src="http://apps.bdimg.com/libs/jquery-qrcode/1.0.0/jquery.qrcode.min.js?"+ +new Date,s.type="text/javascript",s.id=t,document.body.appendChild(s),s.onload=function(){n.qrcode({render:"canvas",text:decodeURIComponent(f),width:n.width(),height:n.height()}),h=R("#jsmodern-share"),R("#"+t).remove()}),R("#jsmodern-share").find("b").click(function(){R(this).parent().remove()})),e.is(m.qzone)&&window.open("http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url="+f+"&title="+p),e.is(m.sina)&&(screen,r=document,c=encodeURIComponent,o=r.location.href,i=["url=",c(o),"&title=",c(p),"&appkey=2924220432&pic=",c(f)].join(""),d?setTimeout(u,0):u()),e.is(m.douban)&&(a=document,s=encodeURIComponent,r=window.getSelection,c=a.getSelection,a=a.selection,r=r?r():c?c():a?a.createRange().text:"",l="https://www.douban.com/recommend/?url="+s(f)+"&title="+s(p)+"&sel="+s(r)+"&v=1",s=function(){window.open(l,"douban")||(location.href=l+"&r=1")},d?setTimeout(s,0):s()),e.is(m.qq)&&window.open("http://connect.qq.com/widget/shareqq/index.html?url="+f+"&title="+p+"&desc="+p)}),this},picture:function(e,v){return R(e).each(function(){function n(e){"fade"===a&&(e=-1==e?f-1:e==f?0:e,u.eq(e).stop().fadeIn(700).siblings().stop().fadeOut(700,function(){t(e),o.data("cacheIndex",e)})),"slide"===a&&(d.is(":animated")||d.stop().animate({left:-(i*e+i)+"px"},700,"easeInOutQuart",function(){-1===e&&(d.css("left","-"+i*f+"px"),e=f-1),e===f&&(d.css("left","-"+i+"px"),e=0),t(e),o.data("cacheIndex",e)}))}function t(e){h.eq(e).addClass("active").siblings().removeClass("active")}var o=R(this);o.find("a");var i=o.width(),e=o.height(),a="slide",s=!0,r=!0,c=v.dotPosition||"center",l=!1;v&&(a=v.type||"slide",s=v.arrow,r=v.dot,l=v.autoplay),o.addClass("jsmodern-picture-container").children().first().addClass("jsmodern-picture-inner").children().addClass("jsmodern-picture-part"),o.on("selectstart",function(){return!1}).data("cacheIndex",0);var d=o.find(".jsmodern-picture-inner"),u=o.find(".jsmodern-picture-part"),m=o.find("img, a"),f=u.length;for(u.add(m).width(i).height(e),e="",m=0;m<f;m++)e+="<b></b>";d.after("<div class='jsmodern-picture-dot'>"+e+"</div>");var p,h=(m=o.find(".jsmodern-picture-dot")).find("b");h.first().addClass("active"),m.addClass("jsmodern-picture-dot"+(c.match(/(left|center|right)/)?c:"center")),o.append("<b class='jsmodern-picture-prev'></b><b class='jsmodern-picture-next'></b>"),c=o.find(".jsmodern-picture-prev"),e=o.find(".jsmodern-picture-next"),"boolean"!=typeof s||s||c.add(e).remove(),"boolean"!=typeof r||r||m.remove(),"fade"===a&&(d.addClass("jsmodern-picture-fade"),u.first().show()),"slide"===a&&(s=(u=d.find(".jsmodern-picture-part")).first(),r=u.last(),d.addClass("jsmodern-picture-slide").width(i*(f+2)).append(s.clone(!0)).prepend(r.clone(!0)).css("left",-i+"px")),h.click(function(){var e=R(this).index();n(e),o.data("cacheIndex",e)}),c.click(function(){var e=o.data("cacheIndex");n(--e)}),e.click(function(){var e=o.data("cacheIndex");n(++e)}),O.isMobile()&&o.swipeLeft(function(){var e=o.data("cacheIndex");n(++e)}).swipeRight(function(){var e=o.data("cacheIndex");n(--e)}),l&&"number"==typeof l&&(p=setInterval(function(){var e=o.data("cacheIndex");n(++e)},l),o.on("mouseenter touchstart",function(){clearInterval(p)}).on("mouseleave touchend",function(){p=setInterval(function(){var e=o.data("cacheIndex");n(++e)},l)}))}),this},video:function(e,F){var D=!!v.match(/(msie|trident)/);return R(e).each(function(){var e,n,t,o,i,a,s,r,c,l,d,u,m,f,p,h,v,g,w,j,y,b,x,S,E,k=R(this),C=k.find("video"),I=C[0],q=k.width(),A=k.height();O.isMobile()?(C.attr("controls","controls"),I.width=q,I.height=A,k.addClass("jsmodern-video"),C.on("ended",function(){F&&R.isFunction(F)&&F.call(I)})):(C.removeAttr("controls"),C.wrap('<section class="jsmodern-video" style="width:'+q+"px;height:"+A+'px;"></section>').prop({width:q,height:A}),e=k.find(".jsmodern-video"),k.find(".jsmodern-video").append('<section class="jsmodern-video-panel"><b class="jsmodern-video-play"></b><span class="jsmodern-video-start">00:00</span><span>/</span><span class="jsmodern-video-end">00:00</span><div class="jsmodern-video-linebox"><div class="jsmodern-video-pass"></div><b class="jsmodern-video-linedot"></b></div><b class="jsmodern-video-volume"></b><div class="jsmodern-video-volumebox"><div class="jsmodern-video-volumeline"></div><b class="jsmodern-video-volumedot"></b></div><b class="jsmodern-video-fullin"></b></section>'),n=k.find(".jsmodern-video-panel"),t=n.find(".jsmodern-video-pass"),k=n.find(".jsmodern-video-linebox"),o=n.find(".jsmodern-video-linedot"),i=n.find(".jsmodern-video-play"),a=n.find(".jsmodern-video-volume"),s=n.find(".jsmodern-video-volumebox"),r=n.find(".jsmodern-video-volumeline"),c=n.find(".jsmodern-video-volumedot"),l=n.find(".jsmodern-video-start"),d=n.find(".jsmodern-video-end"),u=n.find(".jsmodern-video-fullin"),m=k.width(),D&&n.find("span").on("selectstart",function(){return!1}),D&&document.all&&u.addClass("jsmodern-video-fullFalse"),f=0,C.on({play:function(){C.data("playState","play"),i.addClass("jsmodern-video-pause"),e.on("mousemove",function(){f=1,n.stop().fadeIn(50)}),p=setInterval(function(){f?n.stop().fadeIn(100):(u.data("fullState")||u.hasClass("jsmodern-video-fullout"))&&n.stop().fadeOut(100),f=0},2e3)},pause:function(){C.data("playState","pause"),i.removeClass("jsmodern-video-pause"),e.off("mousemove mouseenter mouseleave"),clearInterval(p)},ended:function(){C.data("playState","end"),i.removeClass("jsmodern-video-pause"),l.html("00:00"),t.width(0),o.css("marginLeft",0),e.off("mousemove mouseenter mouseleave"),n.fadeIn(100),clearInterval(p),F&&R.isFunction(F)&&F.call(I)}}),h=function(e){var n=parseInt(e/60);return(n<10?"0"+n:n)+":"+((e=parseInt(e%60))<10?"0"+e:e)},C.on("durationchange",function(){var e=I.duration;v=e,d.html(h(e))}),C.on("timeupdate",function(){var e;isNaN(I.duration)||(e=I.currentTime,l.html(h(e))),d.html().replace(":",""),e=e/v*m,t.width(e),o.css("marginLeft",e+"px")}),g=function(e){e=parseInt(t.width())/(e||m)*v,l.html(h(e)),I.currentTime=e,"play"===C.data("playState")?I.play():I.pause()},k.on("click",function(e){e=e||window.event;var n=R(this).offset().left;t.width(e.pageX-n),o.css("marginLeft",e.pageX-n+"px"),g()}),o.on("mousedown",function(e){var t=R(this),o=R(this).parent().offset().left;R(document).on("mousemove",function(e){var n=(e=e||window.event).pageX-o;e.preventDefault(),n<0&&(n=0),m<n&&(n=m),t.css("marginLeft",n+"px").siblings().width(n),g()}),R(document).mouseup(function(){R(this).off("mousemove")})}),i.click(function(){I.paused?I.play():I.pause()}),I&&(I.volume=.5),a.click(function(){I.muted?(I.muted=!1,a.removeClass("jsmodern-video-muted"),c.css("marginLeft",a.data("left")),r.width(a.data("left"))):(I.muted=!0,a.addClass("jsmodern-video-muted").data("left",c.css("marginLeft")),c.css("marginLeft",0),r.width(0))}),w=s.width(),s.click(function(e){e=e||window.event;var n=R(this).offset().left;0<=e.pageX-n&&e.pageX-n<=w&&(I.muted=!1,a.removeClass("jsmodern-video-muted"),r.width(e.pageX-n),c.css("marginLeft",e.pageX-n+"px"),I.volume=(e.pageX-n)/w)}),c.on("mousedown",function(e){var t=R(this),o=t.parent().offset().left;R(document).on("mousemove",function(e){var n=(e=e||window.event).pageX-o;e.preventDefault(),n<=0&&(n=0,a.addClass("jsmodern-video-muted"),I.muted=!0),w<n&&(I.muted=!1,n=w),0<n&&n<=w&&(I.muted=!1,a.removeClass("jsmodern-video-muted")),t.css("marginLeft",n+"px").siblings().width(n),I.volume=n/w})}),R(document).mouseup(function(){R(this).off("mousemove")}),j=screen.width,y=screen.height,b=function(e){e.webkitRequestFullScreen?e.webkitRequestFullScreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen?e.msRequestFullscreen():e.requestFullScreen&&e.requestFullScreen()},x=function(){document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.oRequestFullscreen?document.oCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()},S=function(){e.width(j).height(y),I.width=j,I.height=y,n.width(q).addClass("jsmodern-video-panelFull"),u.addClass("jsmodern-video-fullout")},E=function(){e.width(q).height(A),I.width=q,I.height=A,n.width(q).removeClass("jsmodern-video-panelFull"),u.removeClass("jsmodern-video-fullout")},u.click(function(){u.hasClass("jsmodern-video-fullFalse")||(u.hasClass("jsmodern-video-fullout")?x():(b(e[0]),D&&u.data("fullState",!0)))}),R(document).on("fullscreenChange webkitfullscreenchange mozfullscreenchange MSFullscreenChange",function(){D?u.data("fullState")?(S(),u.removeData("fullState")):E():document.fullscreen||document.mozFullScreen||document.webkitIsFullScreen?(b(e[0]),S()):(x(),E())}))}),this},scrollBar:function(e,t){if(!O.isMobile())return R(e).each(function(){var i,a,n=R(this),s=n.children().first(),r=n.innerHeight(),e=s.outerHeight(!0),c=e+(parseInt(n.css("paddingTop"))+parseInt(n.css("paddingBottom")));c>n.innerHeight()&&(n.addClass("jsmodern-scrollBar-container").append('<section class="jsmodern-scrollbar"></section>'),"static"===n.css("position")&&n.css("position","relative"),s.addClass("jsmodern-scrollBar-inner").data("y",0),(i=n.find(".jsmodern-scrollbar")).data({y:0,cacheY:0}),R("body").on("selectstart",".jsmodern-scroll-noselect",function(){return!1}),i.height(~~(r*r/e)),t&&("."===(t=t.trim())[0]?i.addClass(t.substring(1)):(e=i.attr("style"),i.attr("style",e+t))),a=r-i.height(),i.on("mousedown",function(e){var t=R(this),o=(e=e||window.event).pageY-t.position().top-i.data("y");n.addClass("jsmodern-scroll-noselect"),s.add(t).css("transition","0s"),R(document).on("mousemove",function(e){var n=(e=e||window.event).pageY-o;e.preventDefault(),n<0&&(n=0),a<n&&(n=a),t.css("transform","translate(0, "+n+"px)").data("cacheY",n),s.css("transform","translate(0, -"+c/r*n+"px)")})}),R(document).mouseup(function(){R(this).off("mousemove"),n.removeClass("jsmodern-scroll-noselect")}),n.on("mousewheel DOMMouseScroll",function(e){var n=-300===(n=(e=e||window.event).originalEvent.wheelDelta||e.originalEvent.detail)||-120===n||3===n?"down":"up";i.data("cacheY"),e.preventDefault(),e=i.data("cacheY"),"down"===n?a<(e+=60)&&(e=a):(e-=60)<0&&(e=0),i.css({transform:"translate(0, "+e+"px)",transition:".2s"}).data("cacheY",e),s.css({transform:"translate(0, -"+c/r*e+"px)",transition:".2s"})}))}),this;R(e).css({overflowY:"auto",webkitOverflowScrolling:"touch"})},lazyload:function(e){var i=R(window).height();return R(e).each(function(){R(this).find("img").each(function(){function e(){var e,n=t[0].getBoundingClientRect();i>n.top&&(n=o,(e=t).attr("src",n).on("load",function(){e.stop().animate({opacity:e.data("lazyOpacity")},500,function(){R(this).removeAttr("jm-lazy").data("lazyload",!0)})}))}var t=R(this),o=t.attr("jm-lazy");t.data("lazyOpacity",t.css("opacity")).css("opacity",0),e(),R(window).on("scroll",function(){t.data("lazyload")||e()})})}),this},page:function(e,n){if(e=R(document.querySelector(e)),n&&R.isPlainObject(n)){var l=R(n.target),t=n.type,a=n.url,d=~~n.total,u=~~n.every,m=n.success,o=n.mobileMore||decodeURI("%E5%8A%A0%E8%BD%BD%E6%9B%B4%E5%A4%9A"),i=n.mobileNone||decodeURI("%E5%B7%B2%E6%97%A0%E6%9B%B4%E5%A4%9A%E6%95%B0%E6%8D%AE");n="";var f=d/u;(f=1<=f&&0<d%u?1+~~f:f)<1&&(f=1);for(var s=1;s<=f;s++)n+='<i class="jsmodern-page-every">'+s+"</i>";n='<section class="jsmodern-page"><i class="jsmodern-page-first"><span>«</span></i><i class="jsmodern-page-prev"><span>‹</span></i><div><div>'+n+'</div></div><i class="jsmodern-page-next"><span>›</span></i><i class="jsmodern-page-last"><span>»</span></i></section>',e.addClass("jsmodern-page-content").append(n);var p=(n=e.find(".jsmodern-page")).find("div > div"),h=n.find(".jsmodern-page-every"),v=n.find(".jsmodern-page-first"),g=n.find(".jsmodern-page-last"),w=n.find(".jsmodern-page-prev"),j=n.find(".jsmodern-page-next");l.data("index",1),h.first().addClass("active"),e.on("selectstart",function(){return!1});var y,r,c,b,x=function(e){if(10<f){var n=f-10;p.width(42*f);var t=parseInt(p.css("marginLeft"));switch(e){case"next":42*-n<t&&p.stop().animate({marginLeft:t-42+"px"},100);break;case"prev":t<0&&p.stop().animate({marginLeft:t+42+"px"},100);break;case"first":p.stop().animate({marginLeft:0},100);break;case"last":p.stop().animate({marginLeft:42*-n+"px"},100)}}};x(),O.isMobile()&&(l.css("height","auto"),e.empty().html('<section class="jsmodern-page-more jsmodern-select-none">'+o+"</section>"),(y=e.find(".jsmodern-page-more")).data("index",1),d==u&&y.html(i)),"local"===t&&a&&R.isFunction(a)&&R.ajax(a("")).done(function(e){e=R.parseJSON(e);var n,s=[];for(n in e)s.push(m(e[n]));var r,c="";for(e=0;e<u;e++)c+=s[e];r=c,l.html(c);function t(e,n,t){if(c="",!p.is(":animated")){var o,i=l.data("index"),a=function(e){for(var n=(e-1)*u;n<e*u;n++)s[n]&&(c+=s[n]);o=i};switch(e){case"first":c=r,o=1;break;case"last":for(n=(f-1)*u;n<d;n++)c+=s[n];o=f;break;case"prev":1<i&&a(--i);break;case"next":i<f&&a(++i);break;case"every":a(i=R(n).index()+1)}t?""!==c&&l.append(c).data("index",o):""!==c&&l.html(c).data("index",o),h.eq(o-1).addClass("active").siblings().removeClass("active"),x(e)}}v.click(function(){t("first")}),g.click(function(){t("last")}),w.click(function(){t("prev")}),j.click(function(){t("next")}),h.click(function(){t("every",this)}),O.isMobile()&&y.tap(function(){var e=R(this).data("index");++e<=f&&(R(this).data("index",e),t("next","","more")),e===f&&R(this).html(i)})}),"ajax"===t&&a&&R.isFunction(a)&&(r={},c=function(e){h.eq(e-1).addClass("active").siblings().removeClass("active")},(b=function(t,o){var i;r[t]?l.html(r[t]):(i="",R.ajax(a(t)).done(function(e){for(var n in e=R.parseJSON(e))i+=m(e[n]);r[t]=i,o?""!==i&&l.append(i):""!==i&&l.html(i)})),l.data("index",t)})(1),h.click(function(){var e=R(this).index()+1;c(e),b(e),x("every")}),w.click(function(){var e=l.data("index")-1;0<e&&(c(e),b(e),x("prev"))}),j.click(function(){var e=l.data("index")+1;e<f+1&&(c(e),b(e),x("next"))}),v.click(function(){c(1),b(1),x("first")}),g.click(function(){c(f),b(f),x("last")}),O.isMobile()&&y.tap(function(){var e=R(this).data("index");++e<=f&&(b(e,"more"),R(this).data("index",e)),e===f&&R(this).html(i)}))}return this},fullPage:function(e){var n=R("body").children(),o=R(window).width(),i=R(window).height();if(0<n.length){var a=n.first();a.addClass("jsmodern-fullpage-container");var s,r=e.axis||"y",n=e.background,c=e.time||800,l=e.callback,d=a.children(),u=d.length,m=[];if(d.addClass("jsmodern-fullpage-part").each(function(e){"y"===r&&R(this).css("marginTop",e*i+"px"),"x"===r&&R(this).css("marginLeft",e*o+"px"),m.push(R(this).html())}),"x"===r&&(a.width(o*u),d.width(o)),"y"===r&&a.height(i*u),n&&Array.isArray(n)&&R.each(n,function(e,n){d.eq(e).css("background",n)}),e.navigation){if("boolean"===R.type(e.navigation)){for(e="",n=0;n<u;n++)e+="<b></b>";a.after('<div class="jsmodern-fullpage-navigation jsmodern-fullpage-navigation-default jsmodern-fullpage-navigation-'+r+'">'+e+"</div>")}else(e=R(e.navigation)).prev().is(".jsmodern-fullpage-container")&&e.addClass("jsmodern-fullpage-navigation");var f=(s=a.next()).children();f.first().addClass("active")}a.data("jsmodern_fullpage_index",0);var t=function(e){var n;a.data("jsmodern_fullpage_animate")||(n=a.data("jsmodern_fullpage_index"),e?++n<u&&p(n):-1<--n&&p(n))},p=function(t){function e(){var e,n;a.data("jsmodern_fullpage_index",t),Array.isArray(l)&&l.length===u&&((e=d.eq(t)).html(m[t]).siblings().html(""),n=setTimeout(function(){l[t].call(e),clearTimeout(n)},0)),s&&f.eq(t).addClass("active").siblings().removeClass("active"),a.removeData("jsmodern_fullpage_animate")}a.data("jsmodern_fullpage_animate",!0),document.head.classList?(a.css("transition-duration",c+"ms"),"x"===r&&a.css({transform:"translate3d(-"+o*t+"px, 0, 0)"}).on("transitionend",function(){e()}),"y"===r&&a.css({transform:"translate3d(0, -"+i*t+"px, 0)"}).on("transitionend",function(){e()})):("x"===r&&a.stop().animate({left:"-"+o*t+"px"},c,"easeInOutQuart",function(){e()}),"y"===r&&a.stop().animate({top:"-"+i*t+"px"},c,"easeInOutQuart",function(){e()}))};Array.isArray(l)&&l.length===u&&((e=d.eq(0)).html(m[0]).siblings().html(""),l[0].call(e)),R(document).on({keyup:function(e){a.is(":animated")||(e=(e=e||window.event).keyCode,"x"===r&&(37===e&&t(),39===e&&t(1)),"y"===r&&(38===e&&t(),40===e&&t(1)))},wheelUp:function(){t()},wheelDown:function(){t(1)}}),"x"===r&&R(document).on({swipeLeft:function(){t(1)},swipeRight:function(){t()}}),"y"===r&&R(document).on({swipeUp:function(){t(1)},swipeDown:function(){t()}}),f.click(function(){var e;a.data("jsmodern_fullpage_animate")||(e=R(this).index(),p(e),a.data("jsmodern_fullpage_animate",!0))})}return this},dialog:function(e){var n,t,o,i,a,s,r,c,l,d,u=decodeURI("%E6%9D%A5%E8%87%AA%E7%BD%91%E9%A1%B5%E7%9A%84%E6%B6%88%E6%81%AF"),m=R.noop,f=R.noop,p='<section class="jsmodern-dialog-container"><section class="jsmodern-dialog"><p class="jsmodern-dialog-title"></p><p class="jsmodern-dialog-content"></p><span class="jsmodern-dialog-sure">'+decodeURI("%E7%A1%AE%E5%AE%9A")+'</span><span class="jsmodern-dialog-cancel">'+decodeURI("%E5%8F%96%E6%B6%88")+"</span></section></section>";return document.querySelector(".jsmodern-dialog-container")||(R("body").append(p),n=R(".jsmodern-dialog-container"),t=n.find(".jsmodern-dialog"),p=n.find(".jsmodern-dialog-cancel"),o=n.find(".jsmodern-dialog-sure"),i=n.find(".jsmodern-dialog-content"),a=n.find(".jsmodern-dialog-title"),s=O.isMobile(),2===(c=(r=arguments).length)&&(p.remove(),a.html(r[0]),i.html(r[1])),1!==c||R.isPlainObject(r[0])||(p.remove(),a.html(u),i.html(r[0])),R.isPlainObject(r[0])&&(a.html(e.title||u),i.html(e.content)),u=R(window).height()-70,t.outerHeight()>u&&(t.height(u),i.css({overflowY:"scroll",height:u-a.height()-53+"px"})),s&&(u=.85*R(window).width()+"px",t.css({width:u,minWidth:u}).addClass("jsmodern-dialog-mobile")),n.stop().animate({opacity:1},300),t.stop().animate({opacity:1,top:s?"50%":"20px"},300),l=function(){t.stop().animate({top:s?"43%":"-20px",opacity:0},300),n.delay(50).animate({opacity:0},300,function(){n.remove()})},d=R.isPlainObject(e),o.click(function(){d&&(e.sure?e.sure():m()),l()}),p.click(function(){d&&(e.cancel?e.cancel():f()),l()})),this}};function d(){return a.apply(this,arguments)}return Object.freeze(O),O});
"use strict";$.fn.clickCaptach=function(t){var d=$.extend({wordList:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],onSuccess:function(){},onError:function(){}},t);return this.each(function(){function o(t,n,a){var c=Math.floor(Math.random()*(n-t)+t);return a.length<4&&(a.find(function(t){return t==c})||a.push(c),o(t,n,a)),a}function a(){p=0,e=[],f=[],i.find(".fl").remove(),i.find(".radio").remove(),c.removeClass("error").removeClass("success"),c.html(i18n.captcha_click+': <span class="captachprompt"></span>');var t="/npublic/img/captcha/captcha".concat(Math.floor(10*Math.random()+1),".jpg");r.css({"background-image":"url(".concat(t,")")});var t=o(0,d.wordList.length-1,[]),n=[],a=[];t.forEach(function(t){n.push(d.wordList[t]),a.push('"'+d.wordList[t]+'" ')}),t=n.join(""),c.find(".captachprompt").html(a.join(" "));var s=[{left:"0px",top:"0px"},{left:"140px",top:"0px"},{left:"0px",top:"80px"},{left:"140px",top:"80px"}];s.sort(function(){return Math.random()-.5}),t.split("").forEach(function(t,n){f.push(n);var a=Math.floor(110*Math.random()),c=Math.floor(50*Math.random()),o=$('<div class="fl"></div>');o.css({left:s[n].left,top:s[n].top});t=$('<span class="dwd">'.concat(t,"</span>"));t.css({left:a+"px",top:c+"px"}),t.data("index",n),t.data("judge","true"),o.append(t),i.append(o)})}var t=$(this),i=t.find(".captchabox"),c=t.find(".minbox"),n=t.find(".refreshb svg"),s=t.find(".closeb svg"),r=t.find(".bg-blur"),e=[],p=0,f=[];i.on("click",".fl span",function(){"true"==$(this).data("judge")&&(e.push($(this).data("index")),$(this).data("judge","false"))}),i.on("click",function(t){p++;var n=$("<div class='radio'>".concat(p,"</div>"));n.css({left:t.pageX-$(this).offset().left-15+"px",top:t.pageY-$(this).offset().top-15+"px"}),$(this).append(n),4==p&&(e.join()==f.join()?(c.html(i18n.captcha_clickSuc).addClass("success"),d.onSuccess()):(c.html(i18n.captcha_clickfail).addClass("error"),setTimeout(function(){a()},500),d.onError()))}),n.on("click",function(){a()}),s.on("click",function(){t.remove()}),a()})};
"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}$define(["qrcode","clipboard"],function(e,t){var i,n;i=window,n=function(e){var s,a,c,o,l,h={event:{addEvent:function(e,t,i){e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent?e.attachEvent("on"+t,i):e["on"+t]=i},removeEvent:function(e,t,i){e.removeEventListener?e.removeEventListener(t,i,!1):e.detachEvent?e.detachEvent("on"+t,i):e["on"+t]=null},stopPropagation:function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},preventDefault:function(e){e.preventDefault?e.preventDefault():e.returnValue=!1}},trim:function(e){return String.prototype.trim?e.trim():e.replace(/^\s+|s+$/g,"")},indexOf:function(e,t){if(!this.isArray(e))throw new Error(e.toString()+" is a non-Array！");if(Array.prototype.indexOf)return e.indexOf(t);for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i},isArray:function(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)},validate:function(e,t){var i,n=[];if(this.isArray(t))for(var r,o=0;r=t[o++];)this.indexOf(e,r)<0&&n.push(r);else for(i in t)i in e||n.push(i);if(0!==n.length)throw new Error("there is such no property: "+n.join(", "))},getElementTop:function(e){for(var t=e.offsetTop,i=e.offsetParent;null!==i;)t+=i.offsetTop,i=i.offsetParent;return t},getElementLeft:function(e){for(var t=e.offsetLeft,i=e.offsetParent;null!==i;)t+=i.offsetLeft,i=i.offsetParent;return t},handleParameters:function(e){var t,i="";for(t in e)i=i+t+"="+encodeURIComponent(e[t])+"&";return i},extend:function(){for(var e,t={},i=0;i<arguments.length;i++)for(e in arguments[i])arguments[i].hasOwnProperty(e)&&(t[e]=arguments[i][e]);return t},each:function(e,t){if(e){for(var i,n=0,r=e.length;n<r;n++)i=t.call(e[n],n,e[n]);return i}},getElementByclassN:function(e,t){if(e){var i=[];if(!t&&document.querySelectorAll&&0<(i=document.querySelectorAll(e)).length)return i;var n,r,o=e.split("."),e=o[0]||"*",s=o[1],e=(t||document.body).getElementsByTagName(e),a=this;return this.each(e,function(e,t){1===t.nodeType&&(n=t.className.split(/\s+/g),r=t,a.each(n,function(e,t){t+""===s&&i.push(r)}))}),i}},getmeta:function(e){for(var t,i=document.getElementsByTagName("meta"),n=0;t=i[n++];)if(t.getAttribute("name")&&t.getAttribute("name").toLowerCase()===e)return t.content},getimg:function(){var e=this.convertToArray(document.body.getElementsByTagName("img"));if(0!==e.length)return encodeURIComponent(e[0].src)},getElement:function(e){e="#"===e.charAt(0)?document.getElementById(e):this.getElementByclassN(e)[0];return e},parseUrl:function(e,i){var t,n={};for(t in e)n[t]=e[t].replace(/{{([A-Z]*)}}/g,function(e,t){t=t.toLowerCase();return i[t]?encodeURIComponent(i[t]):""});return n},isWeixinBrowser:function(){var e=navigator.userAgent.toLowerCase();return!!/micromessenger/.test(e)},convertToArray:function(t){var i=null;try{i=Array.prototype.slice.call(t,0)}catch(e){i=new Array;for(var n=0,r=t.length;n<r;n++)i.push(t[n])}return i},parseClassName:function(e,t){for(var i,n=e.split(/\s+/),r=0;i=n[r++];)if(i in t)return t[i]},getWinDimension:function(){var e=window.innerWidth,t=window.innerHeight;return"number"!=typeof e&&(t="CSS1Compat"===document.compatMode?(e=document.documentElement.clientWidth,document.documentElement.clientHeight):(e=document.body.clientWidth,document.body.clientHeight)),{pageWidth:e,pageHeight:t}},throttle:function(i,n){var r=null;return function(){var e=this,t=arguments;clearTimeout(r),r=setTimeout(function(){i.apply(e,t)},n)}},uniq:function(e){for(var t=[],i=0;i<e.length;i++)-1==t.indexOf(e[i])&&t.push(e[i]);return t},intersect:function(e,t){e=this.uniq(e),t=this.uniq(t);for(var i=[],n=0;n<e.length;n++)for(var r=e[n],o=0;o<t.length;o++)if(t[o]===r){i.push(r);break}return i},loadjs:(s=!1,a=[],function(e,t){var i=document.getElementsByTagName("head")[0],n=document.createElement("script"),r=document.getElementById("loaded"),o=document.dispatchEvent;a.push(t),s?t&&t():(n.setAttribute("type","text/javascript"),n.setAttribute("id","loaded"),n.setAttribute("src",e),n[o?"onload":"onreadystatechange"]=function(){var e;if(!s&&(o||/loaded|complete/i.test(n.readyState)))for(s=!0;e=a.pop();)e()},r||i.appendChild(n))})};function u(e,t,i){this.element=e,this.wxbox=document.createElement("div"),this.URL=t,this.settings=i,this.style=i.style,this.bgcolor=i.bgcolor,this.evenType=i.evenType||"mouseover",this.isTitleVisibility=void 0===i.isTitleVisibility||i.isTitleVisibility,this.title=i.title||"分享到微信",this.isTipVisibility=void 0===i.isTipVisibility||i.isTipVisibility,this.tip=i.tip||"“扫一扫” 即可将网页分享到朋友圈。",this.upDownFlag="",this.status=!1,this.visibility=!1,this.qrcode=null}function t(e){var t={title:document.title,url:location.href,host:location.origin||"",description:h.getmeta("description"),image:h.getimg(),sites:["iShare_weibo","iShare_wechat","iShare_moments","iShare_qq","iShare_tencent","iShare_douban","iShare_qzone","iShare_renren","iShare_youdaonote","iShare_copy","iShare_facebook","iShare_linkedin","iShare_twitter","iShare_googleplus","iShare_tumblr","iShare_pinterest"],initialized:!0,isTitle:!0,isAbroad:!1,WXoptions:{qrcodeW:120,qrcodeH:120,qrcodeBgc:"#fff",qrcodeFgc:"#000",bgcolor:"#2BAD13"}},i=e||window.iShare_config;if(!i)throw new Error("container property is required.");if(!i.container)throw new Error("container property is required.");if(!h.getElement(i.container))throw new Error('there is such no className|id: "'+i.container+'".');this.container=h.getElement(i.container);e=this.container.getAttribute("data-sites"),e=e?e.split(/\s*,\s*/g):null;e&&h.validate(t.sites,e),i.config&&h.validate(t,i.config),i.config.sites&&h.validate(t.sites,i.config.sites),this.wx=null,this.defaults=t,this.dataSites=e?{sites:e}:{},this.config=i.config||{},void 0===this.config.isAbroad?this.config.sites=h.intersect(this.defaults.sites,this.config.sites):this.config.isAbroad?this.config.sites=h.intersect(this.defaults.sites.slice(10),this.config.sites):this.config.sites=h.intersect(this.defaults.sites.slice(0,10),this.config.sites),this.settings=h.extend(t,this.config,this.dataSites),this.settings.WXoptions=h.extend(t.WXoptions,this.config.WXoptions),this.init()}function i(e){if(this.container.hasChildNodes())for(var t,i,n,r=this.container.childNodes,o=0;t=r[o++];)1===t.nodeType&&(n=h.parseClassName(t.className,h.parseUrl(c,this.settings)),-1<t.className.indexOf("iShare_wechat")?(t.href="javascript:void(0);","PC"===e||"PAD"===e?this.wx=new u(t,this.settings.url,this.settings.WXoptions):t=p(t)):-1<t.className.indexOf("iShare_moments")?(t.href="javascript:void(0);",t=p(t)):-1<t.className.indexOf("iShare_copy")?(t.href="javascript:void(0);",t.className=t.className+" clipboard-copy",t.setAttribute("data-clipboard-text",window.location.href),(i=new ClipboardJS(".clipboard-copy")).on("success",function(e){alert("复制链接成功"),e.clearSelection()}),i.on("error",function(e){alert("当前浏览器不支持此功能，请手动复制。")})):(n&&(t.href=n),t.target="_blank"))}function d(e,t,i,n){var r=document.createElement("a");return r.className=t,r.innerHTML=l[t],this.settings.isTitle&&(r.title=o[t]),"isWechat"===i?(r.href="javascript:void(0);","PC"===n||"PAD"===n?this.wx=new u(r,e,this.settings.WXoptions):r=p(r)):"isMoments"===i?(r.href="javascript:void(0);",r=p(r)):"isCopy"===i?(r.href="javascript:void(0);",r.className=r.className+" clipboard-copy",r.setAttribute("data-clipboard-text",window.location.href),(i=new ClipboardJS(".clipboard-copy")).on("success",function(e){alert("复制链接成功"),e.clearSelection()}),i.on("error",function(e){alert("当前浏览器不支持此功能，请手动复制。")})):(r.href=e,r.target="_blank"),r}function p(i){var n=h.isWeixinBrowser()?staticImgOrigin+"/npublic/img/share-bwechat.png":staticImgOrigin+"/npublic/img/share-browser.png";return i.addEventListener("click",function(e){var t;"IMG"===e.target.tagName&&"-1"==e.target.className.indexOf("share-img")||((t=document.createElement("img")).src=n,t.setAttribute("style","position: fixed; left: 0; top: 0; width: 100%; height: 100%; z-index: 99999;"),t.addEventListener("click",function(){t.parentNode.removeChild(t)}),i.appendChild(t))}),i}function n(i){var n,r=document.createDocumentFragment(),o=h.parseUrl(c,this.settings),s=this;h.each(s.settings.sites,function(e,t){"iShare_wechat"===t?n=d.call(s,s.settings.url,t,"isWechat",i):"iShare_copy"===t?n=d.call(s,s.settings.url,t,"isCopy"):"iShare_moments"===t&&"MO"===i?n=d.call(s,s.settings.url,t,"isMoments"):"iShare_moments"!==t&&(n=d.call(s,o[t],t)),r.appendChild(n)}),this.container.innerHTML="",this.container.appendChild(r)}return u.prototype.qrcode=null,u.prototype={constructor:u,init:function(){this.render(),this.init=this.show,this.bindEvent()},render:function(){var e="",t="",i=this.bgcolor||"#ddd",n="",n=h.getWinDimension().pageHeight/2<h.getElementTop(this.element)?(t="",e="display:none;",this.upDownFlag="down","border-bottom-left-radius: 0;"):(t="display:none;",e="",this.upDownFlag="up","border-top-left-radius: 0;"),i='<div class="websiteShareWxUpArrow" style="'+e+"border-bottom-color: "+i+';"></div>'+('<div class="websiteShareWxCon" style="background-color: '+i+";"+n+'">')+('<div class="qrcode" style="width:'+this.settings.qrcodeW+"px; height:"+this.settings.qrcodeH+'px; overflow:hidden;"></div>')+(this.isTipVisibility?'<p class="websiteShareWxTip" style="">'+this.tip+"</p>":"")+('</div><div class="websiteShareWxDownArrow" style="'+t+"border-top-color: "+i+';"></div>');this.wxbox.innerHTML=i,this.wxbox.className="websiteShareWxPop",document.body.appendChild(this.wxbox)},setLocation:function(e){this.wxbox.offsetWidth,this.wxbox.offsetHeight;var t=this.element.offsetWidth,i=this.element.offsetHeight,n=h.getElementTop(this.element),r=(r="")+"left: "+(t/2-12+h.getElementLeft(this.element))+"px;";r="down"===this.upDownFlag?r+"top: "+(n-196)+"px;":r+"top: "+(n+i)+"px;",this.wxbox.style.cssText=r+this.style,e&&this.hide()},bindEvent:function(){var t=this;"click"===this.evenType?h.event.addEvent(this.element,"click",function(e){e=e||window.event;h.event.stopPropagation(e),h.event.preventDefault(e),t.visibility?t.hide():t.show()}):(h.event.addEvent(this.element,"mouseover",function(e){e||window.event;t.show()}),h.event.addEvent(this.element,"mouseout",function(e){e||window.event;t.hide()})),h.event.addEvent(window,"resize",h.throttle(function(){t.status&&t.visibility&&t.setLocation()},200))},startQR:function(){var e=this;return function(){e.qrcode||$(h.getElementByclassN(".qrcode",e.wxbox)[0]).qrcode({text:e.URL,width:e.settings.qrcodeW,height:e.settings.qrcodeH,foreground:e.settings.qrcodeFgc,background:e.settings.qrcodeBgc})}},show:function(){this.status=!0,this.wxbox.style.display="block",this.visibility=!0,this.show=function(){this.wxbox.style.display="block",this.visibility=!0}},hide:function(){this.wxbox.style.display="none",this.visibility=!1},remove:function(){this.wxbox.parentNode.removeChild(this.wxbox)}},t.prototype=(c={iShare_qq:"https://connect.qq.com/widget/shareqq/index.html?url={{URL}}&title={{TITLE}}&desc={{DESCRIPTION}}&summary=&pics={{IMAGE}}",iShare_qzone:"https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url={{URL}}&title={{TITLE}}&summary={{DESCRIPTION}}&pics={{IMAGE}}&desc=&site=",iShare_tencent:"https://share.v.t.qq.com/index.php?c=share&a=index&title={{TITLE}}&url={{URL}}&pic={{IMAGE}}",iShare_weibo:"https://service.weibo.com/share/share.php?url={{URL}}&title={{TITLE}}&pic={{IMAGE}}",iShare_wechat:"",iShare_moments:"",iShare_douban:"https://shuo.douban.com/!service/share?href={{URL}}&name={{TITLE}}&text={{DESCRIPTION}}&image={{IMAGE}}",iShare_renren:"https://widget.renren.com/dialog/share?resourceUrl={{URL}}&title={{TITLE}}&pic={{IMAGE}}&description={{DESCRIPTION}}",iShare_youdaonote:"https://note.youdao.com/memory/?title={{TITLE}}&pic={{IMAGE}}&summary={{DESCRIPTION}}&url={{URL}}",iShare_linkedin:"https://www.linkedin.com/shareArticle?mini=true&ro=true&title={{TITLE}}&url={{URL}}&summary={{DESCRIPTION}}&armin=armin",iShare_facebook:"https://www.facebook.com/sharer.php?u={{URL}}&title={{TITLE}}&images={{IMAGE}}&summary={{DESCRIPTION}}",iShare_twitter:"https://twitter.com/intent/tweet?text={{TITLE}}&url={{URL}}",iShare_googleplus:"https://plus.google.com/share?url={{URL}}&t={{TITLE}}",iShare_pinterest:"https://www.pinterest.com/pin/create/button/?url={{URL}}&description={{DESCRIPTION}}&media={{IMAGE}}",iShare_tumblr:"https://www.tumblr.com/widgets/share/tool?shareSource=legacy&canonicalUrl=&url={{URL}}&title={{TITLE}}",iShare_copy:""},o={iShare_qq:"QQ好友",iShare_qzone:"QQ空间",iShare_moments:"朋友圈",iShare_tencent:"腾讯微博",iShare_weibo:"新浪微博",iShare_wechat:"微信",iShare_douban:"豆瓣",iShare_renren:"人人",iShare_youdaonote:"有道笔记",iShare_linkedin:"Linkedin",iShare_facebook:"Facebook",iShare_twitter:"Twitter",iShare_googleplus:"Google+",iShare_pinterest:"Pinterest",iShare_tumblr:"Tumblr",iShare_copy:"复制链接"},l={iShare_qq:'<img alt="QQ好友" class="share-img p_img qq" src="'+staticImgOrigin+'/npublic/img/share-qq.png">',iShare_qzone:'<img alt="QQ空间" class="share-img p_img qzone" src="'+staticImgOrigin+'/npublic/img/share-qzone.png">',iShare_moments:'<img alt="朋友圈" class="share-img p_img moments" src="'+staticImgOrigin+'/npublic/img/share-moments.png">',iShare_tencent:'<i alt="腾讯微博" class="iconfont tencent" style="vertical-align: -2px;">&#xe608;</i>',iShare_weibo:'<img alt="微博" class="share-img p_img weibo" src="'+staticImgOrigin+'/npublic/img/share-weibo.png">',iShare_wechat:'<img alt="微信" class="share-img p_img wechat" src="'+staticImgOrigin+'/npublic/img/share-wechat.png">',iShare_douban:'<i alt="豆瓣" class="iconfont douban" style="vertical-align: -2px;">&#xe612;</i>',iShare_renren:'<i alt="人人" class="iconfont renren">&#xe603;</i>',iShare_youdaonote:'<i alt="有道笔记" class="iconfont youdaonote" style="vertical-align: -2px;">&#xe604;</i>',iShare_linkedin:'<img alt="Linkedin" class="share-img p_img linkedin" src="'+staticImgOrigin+'/npublic/img/share-linkedin.png">',iShare_facebook:'<img alt="Facebook" class="share-img p_img facebook" src="'+staticImgOrigin+'/npublic/img/share-facebook.png">',iShare_twitter:'<img alt="Twitter" class="share-img p_img twitter" src="'+staticImgOrigin+'/npublic/img/share-twitter.png">',iShare_googleplus:'<i alt="Google+" class="iconfont googleplus" style="vertical-align: -2px;">&#xe60b;</i>',iShare_pinterest:'<img alt="Pinterest" class="share-img p_img pinterest" src="'+staticImgOrigin+'/npublic/img/share-pinterest.png">',iShare_tumblr:'<img alt="Tumblr" class="share-img p_img tumblr" src="'+staticImgOrigin+'/npublic/img/share-tumblr.png">',iShare_copy:'<img alt="复制链接" class="share-img p_img share" src="'+staticImgOrigin+'/npublic/img/share-copyLink.png">'},{constructor:t,init:function(){var e=this;768<$("body").width()?(e.wx&&(e.wx.remove(),e.wx=null),(e.settings.initialized?n:i).call(e,"PC"),e.wx&&(e.bindEvent(),e.wx.init(),e.wx.startQR()())):(e.wx&&(e.wx.remove(),e.wx=null),(e.settings.initialized?n:i).call(e,"MO"))},bindEvent:function(){var t=this;h.event.addEvent(this.container,"mouseover",function e(){t.wx.setLocation(!0),h.event.removeEvent(t.container,"mouseover",e)})}}),window.iShare_config?new t:t},"function"==typeof define&&define.amd?define([],n()):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=n():i.iShare=n()});
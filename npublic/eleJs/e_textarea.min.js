"use strict";$define(["pl_util","formUtil"],function(t,l){return{init:function(){var a,t=this._params,e=t.id,i=this.scope,n=t.propJson,r=n.datasource,o=n.ddItem,s=i.closest("[class^=e_form-]"),t=l.getI18n(e);function d(){var t=i.find('[name="'+e+'"]');0==t.length&&(t=i.find('[data-name="'+e+'"]')),a?t.val(a):t.val(""),$.formValidate("resetForm",i)}t.required&&(n.validate.required.msg=t.required),t.minLength&&(n.validate.minLength.msg=t.minLength),t.maxLength&&(n.validate.maxLength.msg=t.maxLength),n.showPlaceholder||(2==n.initType&&r?l.getDatasource(r,function(t){var e;try{"object"==r.type?e=t.data.current:"list"==r.type&&(e=t.data.list[0])}catch(t){}e&&(a=e[o.outCode]),d()}):(a=3==n.initType?$.getSearch()[n.customParam]:n.value,d())),i.on("keydown",function(t){13!=t.keyCode||!n.enterSubmit||0<(t=s.find('[class^="e_formBtn-"]')).length&&t.trigger("enterSubmit",e)}),i.on("blur valid",".p_input",function(){var t;t=(t=$(this).val()).trim(),n.validate.sensitive={state:!0},$.formValidate(t,i,n.validate)}),i.on("reset",function(){d()})}}});